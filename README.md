# DocuSynapse

> åŸºäº WASM çš„æµè§ˆå™¨ç«¯æ–‡æ¡£è½¬æ¢ä¸å®‰å…¨å¤„ç†å¹³å°

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D22.0.0-brightgreen)](https://nodejs.org/)
[![pnpm](https://img.shields.io/badge/pnpm-%3E%3D8.0.0-orange)](https://pnpm.io/)

## ğŸš€ é¡¹ç›®ç®€ä»‹

DocuSynapse æ˜¯ä¸€ä¸ªåˆ›æ–°çš„æ–‡æ¡£å¤„ç†å¹³å°ï¼Œä¸“æ³¨äºåœ¨æµè§ˆå™¨ç«¯å®ç°é«˜æ€§èƒ½çš„æ–‡æ¡£è½¬æ¢ã€OCR è¯†åˆ«å’Œå®‰å…¨å¤„ç†ã€‚é€šè¿‡ WebAssembly (WASM) æŠ€æœ¯ï¼Œæˆ‘ä»¬å®ç°äº†å®Œå…¨æœ¬åœ°åŒ–çš„æ–‡æ¡£å¤„ç†èƒ½åŠ›ï¼Œæ— éœ€æœåŠ¡å™¨å³å¯å®Œæˆå¤æ‚çš„æ–‡æ¡£æ“ä½œã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”„ **å¤šæ ¼å¼è½¬æ¢**ï¼šPDF â†” DOCX åŒå‘è½¬æ¢
- ğŸ‘ï¸ **æ™ºèƒ½ OCR**ï¼šæ‰«æä»¶å›¾ç‰‡è½¬å¯æœç´¢ PDF
- ğŸ”’ **å®‰å…¨æ°´å°**ï¼šæ–‡æ¡£æ°´å°å’Œæ•æ„Ÿä¿¡æ¯æ£€æµ‹
- âš¡ **é«˜æ€§èƒ½å¤„ç†**ï¼šåŸºäº WASM çš„æœ¬åœ°åŒ–å¤„ç†
- ğŸ§µ **å¤šçº¿ç¨‹æ”¯æŒ**ï¼šWeb Workers ä¿éšœç•Œé¢æµç•…
- ğŸŒ **é›¶æœåŠ¡å™¨ä¾èµ–**ï¼šå®Œå…¨åœ¨æµè§ˆå™¨ç«¯è¿è¡Œ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### Monorepo ç»“æ„

```
DocuSynapse/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ web/          # Next.js Web åº”ç”¨
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ ui/           # å…±äº« UI ç»„ä»¶åº“
â”œâ”€â”€ docs/             # Next.js æ–‡æ¡£ç«™ç‚¹
```

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šNext.js 14 + React 18
- **æ„å»ºå·¥å…·**ï¼šVite + TypeScript
- **åŒ…ç®¡ç†**ï¼špnpm + Workspace
- **æ–‡æ¡£å¤„ç†**ï¼špdf-lib + tesseract.js + docx-pdf
- **WASM æ”¯æŒ**ï¼šWebAssembly æ¨¡å—
- **å¤šçº¿ç¨‹**ï¼šWeb Workers + Comlink
- **æ ·å¼**ï¼šTailwind CSS
- **æ–‡æ¡£**ï¼šMDX + Next.js

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 22.0.0
- pnpm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰å·¥ä½œåŒºä¾èµ–
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨æ‰€æœ‰åº”ç”¨
pnpm dev

# æˆ–åˆ†åˆ«å¯åŠ¨
pnpm --filter web dev      # Web åº”ç”¨
pnpm --filter docs dev     # æ–‡æ¡£ç«™ç‚¹
pnpm --filter ui dev       # UI ç»„ä»¶åº“å¼€å‘
```

### æ„å»ºé¡¹ç›®

```bash
# æ„å»ºæ‰€æœ‰é¡¹ç›®
pnpm build

# æ„å»ºç‰¹å®šé¡¹ç›®
pnpm --filter web build
pnpm --filter docs build
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

### Apps

#### Web åº”ç”¨ (`apps/web`)
- **æŠ€æœ¯æ ˆ**ï¼šNext.js 14 + TypeScript + Tailwind CSS
- **åŠŸèƒ½**ï¼šæ–‡æ¡£è½¬æ¢ã€OCR å¤„ç†ã€å®‰å…¨æ£€æµ‹
- **ç«¯å£**ï¼šhttp://localhost:3000

#### æ–‡æ¡£ç«™ç‚¹ (`docs`)
- **æŠ€æœ¯æ ˆ**ï¼šNext.js + MDX
- **åŠŸèƒ½**ï¼šé¡¹ç›®æ–‡æ¡£ã€API æ–‡æ¡£ã€ä½¿ç”¨æŒ‡å—
- **ç«¯å£**ï¼šhttp://localhost:3001

### Packages

#### UI ç»„ä»¶åº“ (`packages/ui`)
- **æŠ€æœ¯æ ˆ**ï¼šReact + TypeScript + tsup
- **åŠŸèƒ½**ï¼šå…±äº«ç»„ä»¶ã€è®¾è®¡ç³»ç»Ÿ
- **å‘å¸ƒ**ï¼šnpm åŒ…

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. æ–‡æ¡£è½¬æ¢å¼•æ“

| åŠŸèƒ½ | æŠ€æœ¯æ–¹æ¡ˆ | çŠ¶æ€ |
|------|----------|------|
| PDF â†’ DOCX | pdf-lib.js + WASM | ğŸš§ å¼€å‘ä¸­ |
| DOCX â†’ PDF | docx-pdf + Puppeteer Core WASM | ğŸš§ å¼€å‘ä¸­ |
| æ‰«æä»¶ OCR | Tesseract.js WASM | ğŸš§ å¼€å‘ä¸­ |

### 2. å®‰å…¨å¢å¼ºæ¨¡å—

- **æ–‡å­—æ°´å°**ï¼špdf-lib æ–‡æœ¬å›¾å±‚å åŠ 
- **æ•æ„Ÿä¿¡æ¯æ£€æµ‹**ï¼šèº«ä»½è¯å·æ£€æµ‹ç†”æ–­æœºåˆ¶
- **é£é™©æ–‡æ¡£æ‹¦æˆª**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶é˜»æ­¢ä¸‹è½½

### 3. æ€§èƒ½ä¼˜åŒ–

- **Web Workers**ï¼šComlink å°è£…è€—æ—¶æ“ä½œ
- **è¿›åº¦å¯è§†åŒ–**ï¼šç¯å½¢è¿›åº¦æ¡ + æ–‡ä»¶å¤§å°ä¼°ç®—
- **WASM ä¼˜åŒ–**ï¼šæœ¬åœ°åŒ–å¤„ç†ï¼Œæ— ç½‘ç»œä¾èµ–

## ğŸ“‹ å¼€å‘è®¡åˆ’

### MVP ç‰ˆæœ¬ (7å¤©)

- [x] **Day 1**: é¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
- [ ] **Day 2**: PDFâ†’DOCX è½¬æ¢å¼•æ“
- [ ] **Day 3**: DOCXâ†’PDF + æ°´å°åŸºç¡€
- [ ] **Day 4**: æ‰«æä»¶ OCR é›†æˆ
- [ ] **Day 5**: Web Workers å¤šçº¿ç¨‹æ¶æ„
- [ ] **Day 6**: å®‰å…¨æ¨¡å—å¼€å‘
- [ ] **Day 7**: å‰ç«¯ç•Œé¢ + è”è°ƒæµ‹è¯•

è¯¦ç»†è®¡åˆ’è¯·æŸ¥çœ‹ [plan.md](./plan.md)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨å¯¹åº”çš„å·¥ä½œåŒºåˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. å¼€å‘å¹¶æµ‹è¯•åŠŸèƒ½
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. æäº¤ PR è¿›è¡Œä»£ç å®¡æŸ¥

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- æäº¤ä¿¡æ¯éµå¾ª Conventional Commits

### å‘å¸ƒæµç¨‹

```bash
# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# è¿è¡Œæµ‹è¯•
pnpm test

# å‘å¸ƒåŒ…ï¼ˆéœ€è¦ npm æƒé™ï¼‰
pnpm --filter ui publish
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- **ä½œè€…**ï¼šstarsky
- **é¡¹ç›®åœ°å€**ï¼šhttps://github.com/starsky/DocuSynapse
- **é—®é¢˜åé¦ˆ**ï¼šhttps://github.com/starsky/DocuSynapse/issues

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
